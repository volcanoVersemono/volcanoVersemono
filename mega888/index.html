<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Game Log Generator</title>
  <style>
    body {
      font-family: 'Source Sans Pro', 'Helvetica Neue', Helvetica, Arial, sans-serif;
      padding: 20px;
      font-size: 14px;
      line-height: 1.42857;
      color: rgb(51, 51, 51);
      font-weight: 400;
    }
    table {
      width: 65%;
      border-collapse: collapse;
      margin-top: 10px;
      font-size: 22px;
      
    
    }
    th, td {
      padding: 24px 26px;
      border: 0.6px solid #ddd;
      text-align: center;
    }
    th {
      background: #3c8dbc;
      color: white;
    }
    .log-row {
     color: rgb(51, 51, 51);
     font-size: 5px; 
     white-space: nowrap;
    }
    th:nth-child(2),
    td:nth-child(2) {
     width: 5px; /* Lebar kolom TableID */
    }

   th:nth-child(7),
   td:nth-child(7) {
     width: 5px; /* Lebar kolom DateTime */
   }
   #gameLog td:nth-child(5),
   #gameLog th:nth-child(5) {
    width: 5px; /* atau berapa pun yang kamu mau */
   }
   #gameLog th:first-child,
  #gameLog td:first-child {
  width: 5px; /* beginmoney */
  white-space: nowrap;
  }
  #gameLog th:nth-child(6),
#gameLog td:nth-child(6) {
  width: 5px; /* endmoney */
}
#gameLog th:nth-child(3),
#gameLog td:nth-child(3) {
  width: 5px; /* bet*/
}
#gameLog th:nth-child(4),
#gameLog td:nth-child(4) {
  width: 5px; /* win */
}
 .table-id-highlight {
  display: inline-block;
  padding: 0px 4px;
  font-weight: bold;
  background-color: #d2d6de;
  color: #000;
  border-radius: 6px;
  vertical-align: middle;
  font-size: 5px; 
  }
    button {
      padding: 5px 10px;
      font-size: 13px;
      margin-top: 10px;
      margin-right: 10px;
      background: #28a745;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background: #218838;
    }
    select, input {
      padding: 3px 6px;
      font-size: 13px;
      margin-left: 10px;
    }
    #nowTime {
      font-weight: bold;
      margin-left: 10px;
      color: #0073e6;
    }

    .set-score-row td {
      color: rgb(51, 51, 51);
      font-size: 6px;
      
    }
    .set-score-row td.negatif {
      color: #dd4b39;
      font-weight: bold;
      font-size: 6px;
    }
    .set-score-row td.setscore {
      color: #dd4b39;
      font-weight: bold;
      font-size: 6px;
      white-space: nowrap;
    }
  </style>
</head>
<body>

<h2>Game Log Generator</h2>

<label for="gameSelect">Game:</label>
<select id="gameSelect">
  <option value="Great88">Great88</option>
  <option value="LuckyBall">LuckyBall</option>
  <option value="MegaReel">MegaReel</option>
  <option value="DragonSlot">DragonSlot</option>
  <option value="SevenWin">SevenWin</option>
</select>

<label for="betValue">Bet:</label>
<input type="number" id="betValue" value="2.50" step="0.01" min="0.01" max="9999.99" />

<button onclick="setNow()">Now (Current Time)</button>
<span id="nowTime">No time set</span>

<br><br>
<button onclick="generateLog()">Change</button>

<table id="gameLog">
  <thead>
    <tr>
      <th>GameName</th>
      <th>TableID</th>
      <th>Bet</th>
      <th>Win</th>
      <th>BeginMoney</th>
      <th>EndMoney</th>
      <th>DateTime</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table>

<script>
  let globalTime = null;

  function setNow(){
    const now = new Date();
    globalTime = now.toISOString().replace("T"," ").substring(0,19);
    document.getElementById("nowTime").innerText = globalTime;
  }

  function rnd(min, max, dec = 2){
    return parseFloat((Math.random() * (max - min) + min).toFixed(dec));
  }

  function generateLog(){
    const game = document.getElementById("gameSelect").value;
    const bet = parseFloat(document.getElementById("betValue").value);
    const tbody = document.querySelector("#gameLog tbody");

    let logs = [];
    let balance = rnd(3000, 4000); // initial balance

    for(let i = 0; i < 10; i++){
      const beginMoney = balance;
      const win = Math.random() > 0.7 ? rnd(0, bet * 3) : 0.00;
      const endMoney = parseFloat((beginMoney - bet + win).toFixed(2));
      const timeStamp = globalTime || new Date().toISOString().replace("T"," ").substring(0,19);

      logs.unshift({
        game,
        tableID: `<span class="table-id-highlight">0</span>`,
        bet: bet.toFixed(2),
        win: win.toFixed(2),
        beginMoney: beginMoney.toFixed(2),
        endMoney: endMoney.toFixed(2),
        dateTime: timeStamp
      });

      balance = endMoney; // update balance
    }

    const setScoreMoney = logs[0].endMoney;

    let rows = `
      <tr class="set-score-row">
        <td>-</td>
        <td class="setscore">Set score: ${(-Math.abs(parseFloat(setScoreMoney))).toFixed(2)}</td>
        <td class="negatif">-</td>
        <td class="negatif">-</td>
        <td class="negatif">-</td>
        <td class="negatif">-</td>
        <td>${logs[0].dateTime}</td>
      </tr>
    `;

    logs.forEach(log => {
      rows += `
        <tr class="log-row">
          <td>${log.game}</td>
          <td>${log.tableID}</td>
          <td>${log.bet}</td>
          <td>${log.win}</td>
          <td>${log.beginMoney}</td>
          <td>${log.endMoney}</td>
          <td>${log.dateTime}</td>
        </tr>
      `;
    });

    tbody.innerHTML = rows;
  }
</script>

</body>
</html>
