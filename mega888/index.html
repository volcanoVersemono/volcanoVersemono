<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Game Log Generator</title>
  <style>
    table {
      border-collapse: collapse;
      width: 100%;
    }
    th, td {
      border: 1px solid #aaa;
      padding: 6px 12px;
      text-align: center;
    }
    th {
      background: #1976d2;
      color: #fff;
    }
    .red {
      color: red;
      font-weight: bold;
    }
  </style>
</head>
<body>

<h3>Game Log Table</h3>
<table id="gameTable">
  <thead>
    <tr>
      <th>GameName</th>
      <th>TableID</th>
      <th>Bet</th>
      <th>Win</th>
      <th>BeginMoney</th>
      <th>EndMoney</th>
      <th>DateTime</th>
    </tr>
  </thead>
  <tbody id="gameBody"></tbody>
</table>

<script>
const gameName = "Great88";
const tableID = 0;
const betValue = 2.5;
const initialEndMoney = 3167.24;
const logs = 10;
const dateTime = "2025-05-15 06:15:49";

// Win values (bisa diubah sesuai kebutuhan)
const winValues = [0, 1.6, 0, 0, 0, 0, 0, 0, 6.83, 0];

function formatMoney(value) {
  return value.toLocaleString("en-US", { minimumFractionDigits: 2, maximumFractionDigits: 2 });
}

let data = [];
let currentEnd = initialEndMoney;

// Generate backwards
for (let i = 0; i < logs; i++) {
  const win = winValues[i];
  const bet = betValue;
  const endMoney = currentEnd;
  const beginMoney = endMoney + bet - win;
  data.unshift({
    game: gameName,
    table: tableID,
    bet: bet,
    win: win,
    begin: beginMoney,
    end: endMoney,
    time: dateTime
  });
  currentEnd = beginMoney;
}

// Insert Set Score row
const setScoreRow = document.createElement("tr");
setScoreRow.innerHTML = `
  <td>-</td>
  <td class="red">Set score: -${formatMoney(initialEndMoney)}</td>
  <td class="red">-</td>
  <td class="red">-</td>
  <td class="red">-</td>
  <td class="red">-</td>
  <td>${dateTime}</td>
`;
document.getElementById("gameBody").appendChild(setScoreRow);

// Add log rows
data.forEach(row => {
  const tr = document.createElement("tr");
  tr.innerHTML = `
    <td>${row.game}</td>
    <td>${row.table}</td>
    <td>${row.bet.toFixed(2)}</td>
    <td>${row.win.toFixed(2)}</td>
    <td>${formatMoney(row.begin)}</td>
    <td>${formatMoney(row.end)}</td>
    <td>${row.time}</td>
  `;
  document.getElementById("gameBody").appendChild(tr);
});
</script>

</body>
</html>
